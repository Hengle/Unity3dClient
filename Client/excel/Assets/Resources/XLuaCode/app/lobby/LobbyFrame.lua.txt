--打开登陆界面
local LobbyFrame = {}

local UserMessage = require(".net.UserMessage")

local Player = app.data.UserData.Player
local Account = app.data.UserData.Account


function LobbyFrame.OnOpenFrame()
	UserMessage.send("UserInfoReq", {uid=Account.uid}, handler(self,self.UserInfoRep))
	UserMessage.send("RoomListReq", handler(self, self.RoomListRep))

	self.frame:GetObject("btn_quick_start").onClick:AddListener(LobbyFrame.onClickQuickStart)
	self.frame:GetObject("btn_charge").onClick:AddListener(LobbyFrame.onClickCharge)
	self.frame:GetObject("btn_bank").onClick:AddListener(LobbyFrame.onClickBank)
	self.frame:GetObject("btn_exchange").onClick:AddListener(LobbyFrame.onClickExchange)
	self.frame:GetObject("btn_announce").onClick:AddListener(LobbyFrame.onClickAnnounce)
	self.frame:GetObject("btn_club").onClick:AddListener(LobbyFrame.onClickClub)
	self.frame:GetObject("btn_agent").onClick:AddListener(LobbyFrame.onClickAgent)
	self.frame:GetObject("btn_setting").onClick:AddListener(LobbyFrame.onClickSetting)
	self.frame:GetObject("btn_subscription").onClick:AddListener(LobbyFrame.onClickSubscription)
	self.frame:GetObject("btn_addgold").onClick:AddListener(LobbyFrame.onClickAddgold)
	self.frame:GetObject('btn_fish_game').onClick:AddListener(LobbyFrame.onClickFishGame)
end

LobbyFrame.onClickFishGame = function()

end

LobbyFrame.onClickQuickStart = function()
end

LobbyFrame.onClickCharge = function()
end

LobbyFrame.onClickBank = function()
end

LobbyFrame.onClickExchange = function()
end

LobbyFrame.onClickAnnounce = function()
end

LobbyFrame.onClickClub = function()
end

LobbyFrame.onClickAgent = function()
end

LobbyFrame.onClickSetting = function()
end

LobbyFrame.onClickSubscription = function()
end

LobbyFrame.onClickAddgold = function()
end

function LobbyFrame.OnCloseFrame()
end

-- ----------------------------控制代码----------------------------------------
--TODO:UserInfoRep RoomListRep
function LobbyFrame.UserInfoRep(msg, oldmsg)
	dump(msg, "LobbyFrame.UserInfoRep:")
	if msg.uid == Player.uid then
		--[[self:changeAvatar()
		self:moneyChanged()
		self:nicknameChanged()
		self.loaded = true]]--
	end
end

function LobbyFrame.RoomListRep(msg)
	dump(msg, "LobbyFrame.RoomListRep:")
	--self:loadRoomConfig()
	--self:setBurthenMark()
end

return LobbyFrame