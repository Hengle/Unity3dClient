---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by asus.
--- DateTime: 2018/4/8 11:25
---
local AccountSelectFrame = {}

function AccountSelectFrame.OnOpenFrame()
    --self.frame:GetObject("btnLoginOther").onClick:AddListener(AccountSelectFrame.onClickLoginOther)
    --self.frame:GetObject("btnRegister").onClick:AddListener(AccountSelectFrame.onClickRegister)
    --self.frame:GetObject("btnBack").onClick:AddListener(AccountSelectFrame.onClickBack)
    --self.frame:GetObject("btnConfirmLogin").onClick:AddListener(AccountSelectFrame.onClickConfirmLogin)

    local accountList = self.frame:GetObject('accountList')
    if accountList then
        accountList:Initialize()
        accountList.mOnListElementVisible = function(index,script)
            --[[
            local accountArray = pre.get
            if index >= 0 and index < #accountArray then
                script:GetObject('accountName').text = accounts[index + 1]
            end
            --]]
        end
    end
end

AccountSelectFrame.onClickLoginOther = function()
    --TODO 回传选定的账号给LoginFrame 并登录
end

AccountSelectFrame.onClickRegister = function()
    app.FrameManager.OpenFrameLua(app._FrameList.AccountLoginFrame)
end

AccountSelectFrame.onClickBack = function()
    app.FrameManager.CloseFrame(self.frame)
end

AccountSelectFrame.onClickConfirmLogin = function()

end

function AccountSelectFrame.OnCloseFrame()

end

-- ---------------------显示控制接口AccountSelectPresenter调用--------------------------------

function AccountSelectFrame:showAccountList()
    local accountArray = {"115878524","115878525","115878526","115878527","115878528","115878529","115878531"}

    local accountList = self:GetObject('accountList')
    if accountList then
        accountList:SetElementAmount(#accountArray)
    end
end

return AccountSelectFrame