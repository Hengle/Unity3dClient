---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by asus.
--- DateTime: 2018/4/8 11:25
---
local AccountSelectFrame = {}

function OnOpenFrame()
    self:GetObject("btnLoginOther").onClick:AddListener(onClickLoginOther)
    self:GetObject("btnRegister").onClick:AddListener(onClickRegister)
    self:GetObject("btnBack").onClick:AddListener(onClickBack)
    self:GetObject("btnConfirmLogin").onClick:AddListener(onClickConfirmLogin)

    local accountList = self:GetObject('accountList')
    if accountList then
        accountList:Initialize()
        accountList.mOnListElementVisible = function(index,script)
            local accountArray = pre.get
            if index >= 0 and index < #accountArray then
                script:GetObject('accountName').text = accounts[index + 1]
            end
        end
    end
end

local onClickLoginOther = function()
    --TODO 回传选定的账号给LoginFrame 并登录
end

local onClickRegister = function()
    --TODO 拉起注册界面
    --FrameManager:OpenFrameLua(LobbyData._FrameList.)
end

local onClickBack = function()
    FrameManager:CloseFrame(self)
end

local onClickConfirmLogin = function()

end

function OnCloseFrame()
end

-- ---------------------显示控制接口AccountSelectPresenter调用--------------------------------

function AccountSelectFrame:showAccountList()
    local accountArray = {"115878524","115878525","115878526","115878527","115878528","115878529","115878531"}

    local accountList = self:GetObject('accountList')
    if accountList then
        accountList:SetElementAmount(#accountArray)
    end
end

return AccountSelectFrame